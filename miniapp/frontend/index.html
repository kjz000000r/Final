<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NutriCoach</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Наши стили -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Иконки (Font Awesome) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Контейнер приложения -->
    <div id="app">
        <!-- Загрузка -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Загрузка...</p>
        </div>

        <!-- Главный экран -->
        <div id="main-screen" class="screen" style="display: none;">
            <!-- Хедер с профилем -->
            <header class="header">
                <div class="profile-compact">
                    <div class="avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-info">
                        <div class="username" id="username">Пользователь</div>
                        <div class="subscription-badge" id="sub-badge">Загрузка...</div>
                    </div>
                </div>
                <button class="btn-profile" onclick="openProfile()">
                    <i class="fas fa-cog"></i>
                </button>
            </header>

            <!-- Быстрые действия -->
            <section class="quick-actions">
                <button class="action-btn primary" onclick="openMealEntry()">
                    <i class="fas fa-plus-circle"></i>
                    <span>Добавить еду</span>
                </button>
                <button class="action-btn" onclick="openDiary()">
                    <i class="fas fa-book"></i>
                    <span>Дневник</span>
                </button>
                <button class="action-btn" onclick="openStats()">
                    <i class="fas fa-chart-line"></i>
                    <span>Статистика</span>
                </button>
            </section>

            <!-- Сегодняшняя сводка -->
            <section class="today-summary">
                <h2>Сегодня</h2>
                <div class="calories-card" id="today-card">
                    <div class="calories-main">
                        <div class="calories-value" id="today-calories">0</div>
                        <div class="calories-label">ккал</div>
                    </div>
                    <div class="macros">
                        <div class="macro">
                            <span class="macro-label">Б</span>
                            <span class="macro-value" id="today-proteins">0</span>
                        </div>
                        <div class="macro">
                            <span class="macro-label">Ж</span>
                            <span class="macro-value" id="today-fats">0</span>
                        </div>
                        <div class="macro">
                            <span class="macro-label">У</span>
                            <span class="macro-value" id="today-carbs">0</span>
                        </div>
                    </div>
                </div>
                <div id="today-meals" class="meals-list">
                    <!-- Динамически загружается -->
                </div>
            </section>

            <!-- Челленджи -->
            <section class="challenges-section">
                <div class="section-header">
                    <h2>Активные челленджи</h2>
                    <button class="btn-text" onclick="openChallenges()">Все</button>
                </div>
                <div id="active-challenges" class="challenges-grid">
                    <!-- Динамически загружается -->
                </div>
            </section>

            <!-- Меню функций -->
            <section class="features-menu">
                <div class="menu-grid">
                    <button class="menu-item" onclick="openPlanGenerator()">
                        <i class="fas fa-utensils"></i>
                        <span>План питания</span>
                    </button>
                    <button class="menu-item" onclick="openLabsAnalysis()">
                        <i class="fas fa-flask"></i>
                        <span>Анализы</span>
                    </button>
                    <button class="menu-item" onclick="openRecipeGen()">
                        <i class="fas fa-hat-chef"></i>
                        <span>Рецепты</span>
                    </button>
                    <button class="menu-item" onclick="openWeightTracker()">
                        <i class="fas fa-weight-scale"></i>
                        <span>Вес</span>
                    </button>
                    <button class="menu-item" onclick="openAchievements()">
                        <i class="fas fa-trophy"></i>
                        <span>Достижения</span>
                    </button>
                    <button class="menu-item" onclick="openSubscription()">
                        <i class="fas fa-crown"></i>
                        <span>Подписка</span>
                    </button>
                </div>
            </section>
        </div>

        <!-- Модальные окна будут здесь -->
        <div id="modal-container"></div>
    </div>

    <!-- Скрипты -->
    <script src="app.js"></script>
    <script src="components/diary.js"></script>
    <script src="components/stats.js"></script>
    <script src="components/profile.js"></script>
    <script src="components/challenges.js"></script>
    <script src="components/plan.js"></script>
    <script src="components/labs.js"></script>
    <script src="components/recipes.js"></script>
</body>
</html>